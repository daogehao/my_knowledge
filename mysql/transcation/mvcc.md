# MVCC 多版本并发控
MVCC(Multi-Version Concurrency Control)多版本并发控制，是MySQL数据库引擎的一种并发控制机制，它允许多个事务并发执行，但每个事务对数据进行修改时，都会创建一个版本，这个版本会一直存在直到事务结束。

- 多版本并发控制（MVCC，Multiversion Concurrency Control）是一种数据库并发控制方法，它通过保留数据的多个版本来管理事务并发。与传统的锁机制不同，MVCC 允许多个事务同时读取和写入数据，而不会相互干扰，从而提高数据库的并发性和性能。

- 在 MVCC 中，每当数据发生变化时，数据库会创建一个新的版本，而不是直接修改原始数据。这意味着多个事务可以同时读取数据，而不必等待其他事务的完成，从而实现高并发读写。

- MVCC 在数据库系统中广泛应用，特别是在涉及高并发读操作的场景中，能够有效地减少锁竞争和死锁的发生。

- MVCC实现数据事务ACID特性中事务的隔离性，确保事务并发执行中，每个事务都能看到一致的数据库状态，并避免其它事务的干扰。

## MVCC与传统锁的区别
传统的并发控制方法一般通过锁来确保事务的隔离性，常见的锁包括行锁、表锁等。然而，锁机制有时会导致如下问题：
> - 死锁：多个事务互相等待对方释放锁，导致系统无法继续执行。
> - 锁竞争：多个事务同时请求相同的资源时，事务会被阻塞，从而影响系统的吞吐量。
> - 性能瓶颈：特别是在高并发的情况下，锁的争用会严重影响数据库的性能。

而 MVCC 不依赖于显式的锁机制来保证事务的隔离性。每个事务看到的数据是某一时刻数据的一个“快照”，因此，即使多个事务同时修改同一数据，它们也可以独立进行。MVCC 更注重通过版本控制来实现数据的一致性，减少了对锁的依赖，从而提高了数据库的性能和并发能力。
